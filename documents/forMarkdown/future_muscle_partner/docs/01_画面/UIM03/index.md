# [UIM03] カレンダー予約

<iframe style="border: 1px solid rgba(0, 0, 0, 0.1);" width="800" height="450" src="https://embed.figma.com/design/kLgdi4xdGRpQudMEoZYwvq/%E3%80%90FMP%E3%80%91Future-Muscle-Partner_%E7%94%BB%E9%9D%A2%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3?node-id=115-295&embed-host=share" allowfullscreen></iframe>

## 概要

機能目的:

- トレーニーやパーソナルトレーナの空き時間を表示し、予約を行えるようにする

機能概要:

- 本日以降の週間カレンダーを表示する
- すでに予約済みの時間がわかるようにする

## イベント概要

| No  | イベント名 | イベント分類                   | 処理説明                                                           |
| --- | ---------- | ------------------------------ | ------------------------------------------------------------------ |
| 1   | 初期表示   | 初期表示                       | 指定されたトレーナーと、ログイン中のトレーニーのスケジュールを表示 |
| 2   | 日時設定   | カレンダーを選択               | ドラッグ＆ドロップで範囲指定                                       |
| 3   | 日時指定   | 設定された日時で予約を指定する |                                                                    |

## イベント詳細

### 1. 初期表示

起動パラメータ:

| Name       | Value                         | Memo |
| ---------- | ----------------------------- | ---- |
| trainer_id | {"trainer_id":"<trainer_id>"} |      |
| trainee_id | {"trainee_id":"<trainee_id>"} |      |

利用API:

| ID     | URL                                 | Parameter            |
| ------ | ----------------------------------- | -------------------- |
| API011 | GET /trainers/{trainer_id}/schedule | 初期パラメータを設定 |
| API013 | GET /bookings/{trainee_id}          | 初期パラメータを設定 |

画面表示制御:

- API011
  - 0件の場合は何もしない
  - 1件以上存在した場合は、カレンダーには「ブロック」と表示する
- API026
  - 0件の場合は何もしない
  - 1件以上存在した場合は、カレンダーに「予約あり」と表示する

### 2. 日時設定

選択された日付がカレンダーに追加される。

### 3. 日時指定

[UIM04](../UIM04/index.md) を起動する。
