<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Javaコーディング規約 for Java8 | Future Enterprise Coding Standards</title>
    <meta name="description" content="フューチャー株式会社が作成するエンタープライズ領域に特化したコーディング規約">
    
    <meta name="keywords" content="Javaコーディング規約,Java8,コーディング規約,Java">
    <link rel="preload" href="/coding-standards/assets/css/0.styles.38e631ca.css" as="style"><link rel="preload" href="/coding-standards/assets/js/app.56d8ba9b.js" as="script"><link rel="preload" href="/coding-standards/assets/js/1.5f0c2e45.js" as="script"><link rel="preload" href="/coding-standards/assets/js/11.62ce115d.js" as="script"><link rel="preload" href="/coding-standards/assets/js/4.5a1deb12.js" as="script"><link rel="prefetch" href="/coding-standards/assets/js/10.ac25bb1f.js"><link rel="prefetch" href="/coding-standards/assets/js/12.18b075de.js"><link rel="prefetch" href="/coding-standards/assets/js/13.365b3c00.js"><link rel="prefetch" href="/coding-standards/assets/js/14.70c4c06a.js"><link rel="prefetch" href="/coding-standards/assets/js/15.81241ea0.js"><link rel="prefetch" href="/coding-standards/assets/js/3.cd858c2e.js"><link rel="prefetch" href="/coding-standards/assets/js/5.c83e4385.js"><link rel="prefetch" href="/coding-standards/assets/js/6.d9169fd9.js"><link rel="prefetch" href="/coding-standards/assets/js/7.a46226c8.js"><link rel="prefetch" href="/coding-standards/assets/js/8.763b2c39.js"><link rel="prefetch" href="/coding-standards/assets/js/9.35323cac.js">
    <link rel="stylesheet" href="/coding-standards/assets/css/0.styles.38e631ca.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/coding-standards/" class="home-link router-link-active"><img src="/coding-standards/images/logo.svg" alt="Future Enterprise Coding Standards" class="logo"> <span class="site-name can-hide">Future Enterprise Coding Standards</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/coding-standards/documents/forJava/Javaコーディング規約.html" class="nav-link">for Java11</a></li><li class="dropdown-item"><!----> <a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html" class="nav-link">for Java8</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="SQL" class="dropdown-title"><span class="title">SQL</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/coding-standards/documents/forSQL/SQLコーディング規約（Oracle）.html" class="nav-link">for Oracle</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="About Us" class="dropdown-title"><span class="title">About Us</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.future.co.jp/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  フューチャー株式会社
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://future-architect.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://qiita.com/organizations/future" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Qiita
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://jobs.qiita.com/employers/future/development_teams/57" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Qiita Jobs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://twitter.com/future_techblog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Twitter
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.facebook.com/future.saiyo/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Facebook
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="mailto:techblog@future.co.jp" class="nav-link external">
  Email &lt;techblog@future.co.jp&gt;
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/future-architect/coding-standards" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/coding-standards/documents/forJava/Javaコーディング規約.html" class="nav-link">for Java11</a></li><li class="dropdown-item"><!----> <a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html" class="nav-link">for Java8</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="SQL" class="dropdown-title"><span class="title">SQL</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/coding-standards/documents/forSQL/SQLコーディング規約（Oracle）.html" class="nav-link">for Oracle</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="About Us" class="dropdown-title"><span class="title">About Us</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.future.co.jp/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  フューチャー株式会社
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://future-architect.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://qiita.com/organizations/future" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Qiita
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://jobs.qiita.com/employers/future/development_teams/57" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Qiita Jobs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://twitter.com/future_techblog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Twitter
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.facebook.com/future.saiyo/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Facebook
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="mailto:techblog@future.co.jp" class="nav-link external">
  Email &lt;techblog@future.co.jp&gt;
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/future-architect/coding-standards" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/coding-standards/documents/forJava/" class="sidebar-link">Home</a></li><li><a href="/coding-standards/documents/forJava/Javaコーディング規約.html" class="sidebar-link">Javaコーディング規約</a></li><li><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html" class="active sidebar-link">Javaコーディング規約 for Java8</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#コーディングの心得" class="sidebar-link">コーディングの心得</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#見やすさを重視せよ" class="sidebar-link">見やすさを重視せよ</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#ネーミングはわかりやすく" class="sidebar-link">ネーミングはわかりやすく</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#サンプルを鵜呑みにしない" class="sidebar-link">サンプルを鵜呑みにしない</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#同じコードは二度書かない" class="sidebar-link">同じコードは二度書かない</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#役割は一つに" class="sidebar-link">役割は一つに</a></li></ul></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#全般" class="sidebar-link">全般</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#パッケージ" class="sidebar-link">パッケージ</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#クラス" class="sidebar-link">クラス</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#メソッド" class="sidebar-link">メソッド</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#引数" class="sidebar-link">引数</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#変数全般" class="sidebar-link">変数全般</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#ローカル変数" class="sidebar-link">ローカル変数</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#全般-2" class="sidebar-link">全般</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#フォーマット" class="sidebar-link">フォーマット</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#コメント" class="sidebar-link">コメント</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#インポート" class="sidebar-link">インポート</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#コンストラクタ" class="sidebar-link">コンストラクタ</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#メソッド-2" class="sidebar-link">メソッド</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#クラスメソッド" class="sidebar-link">クラスメソッド</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#変数全般-2" class="sidebar-link">変数全般</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#定数" class="sidebar-link">定数</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#インスタンス変数" class="sidebar-link">インスタンス変数</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#クラス変数" class="sidebar-link">クラス変数</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#ローカル変数-2" class="sidebar-link">ローカル変数</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#引数-2" class="sidebar-link">引数</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#継承" class="sidebar-link">継承</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#インナークラス" class="sidebar-link">インナークラス</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#メンバー順序" class="sidebar-link">メンバー順序</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#インスタンス" class="sidebar-link">インスタンス</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#制御構造" class="sidebar-link">制御構造</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#文字列操作" class="sidebar-link">文字列操作</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#数値" class="sidebar-link">数値</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#日付" class="sidebar-link">日付</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#三項演算子" class="sidebar-link">三項演算子</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#コレクション" class="sidebar-link">コレクション</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#ラムダ式・メソッド参照・コンストラクタ参照" class="sidebar-link">ラムダ式・メソッド参照・コンストラクタ参照</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#実質的final（effectively-final）" class="sidebar-link">実質的final（effectively final）</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#stream-api" class="sidebar-link">Stream API</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#optional" class="sidebar-link">Optional</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#ストリーム（inputstream-outputstream）" class="sidebar-link">ストリーム（InputStream OutputStream）</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#リソースの解放" class="sidebar-link">リソースの解放</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#例外" class="sidebar-link">例外</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#ガベージコレクション" class="sidebar-link">ガベージコレクション</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#よいコメントの鉄則" class="sidebar-link">よいコメントの鉄則</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#javaコメント（3種類）の使い分け" class="sidebar-link">Javaコメント（3種類）の使い分け</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#stream-api-2" class="sidebar-link">Stream API</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#ラムダ式・メソッド参照・コンストラクタ参照-2" class="sidebar-link">ラムダ式・メソッド参照・コンストラクタ参照</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#文字列連結" class="sidebar-link">文字列連結</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#文字列連結（繰り返し）" class="sidebar-link">文字列連結（繰り返し）</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#文字列連結（定数）" class="sidebar-link">文字列連結（定数）</a></li></ul></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#listの種類" class="sidebar-link">Listの種類</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#stringからinteger・longへの変換" class="sidebar-link">StringからInteger・Longへの変換</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#stringからint・longへの変換" class="sidebar-link">Stringからint・longへの変換</a></li><li class="sidebar-sub-header"><a href="/coding-standards/documents/forJava/Javaコーディング規約_for_8.html#bigdecimalのzeroとの比較" class="sidebar-link">BigDecimalのZEROとの比較</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><div class="vuepress-page-title" data-v-4f9172ef><div class="share-buttons" data-v-4f9172ef><a href="https://twitter.com/share?ref_src=twsrc%5Etfw" data-url="https://future-architect.github.io/coding-standards/documents/forJava/Java%E3%82%B3%E3%83%BC%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0%E8%A6%8F%E7%B4%84_for_8.html" data-show-count="false" class="twitter-share-button" data-v-4f9172ef>
      Tweet
    </a> <div data-href="https://future-architect.github.io/coding-standards/documents/forJava/Java%E3%82%B3%E3%83%BC%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0%E8%A6%8F%E7%B4%84_for_8.html" data-layout="button_count" data-action="like" data-size="small" data-show-faces="true" data-share="true" class="fb-like" data-v-4f9172ef></div> <a href="http://b.hatena.ne.jp/entry/s/future-architect.github.io/coding-standards/documents/forJava/Java%E3%82%B3%E3%83%BC%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0%E8%A6%8F%E7%B4%84_for_8.html" data-hatena-bookmark-layout="basic-label-counter" data-hatena-bookmark-lang="ja" title="このエントリーをはてなブックマークに追加" class="hatena-bookmark-button" data-v-4f9172ef><img src="https://b.st-hatena.com/images/v4/public/entry-button/button-only@2x.png" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;" data-v-4f9172ef></a> <div href="https://github.com/future-architect/coding-standards" data-icon="octicon-star" data-show-count="true" aria-label="Star future-architect/coding-standards on GitHub" data-v-4f9172ef>
      Star
    </div> <a href="https://getpocket.com/save" data-lang="en" data-save-url="https://future-architect.github.io/coding-standards/documents/forJava/Java%E3%82%B3%E3%83%BC%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0%E8%A6%8F%E7%B4%84_for_8.html" data-pocket-count="horizontal" data-pocket-align="left" class="pocket-btn" data-v-4f9172ef>Pocket</a></div> <h1 class="vuepress-page-title__title" data-v-4f9172ef>
    Javaコーディング規約 for Java8
  </h1> <div class="vuepress-page-title__author" data-v-4f9172ef>
    Future Enterprise Coding Standards
  </div></div> <p>本コーディング規約は、世の中のシステム開発プロジェクトのために無償で提供致します。<br>
ただし、掲載内容および利用に際して発生した問題、それに伴う損害については、フューチャー株式会社は一切の責務を負わないものとします。<br>
また、掲載している情報は予告なく変更することがございますので、あらかじめご了承下さい。</p> <h1 id="はじめに"><a href="#はじめに" class="header-anchor">#</a> はじめに</h1> <p>一般に利用・参照されているJavaコーディング規約やガイドラインを以下に示す。本規約の作成においても、下記規約類を参照・抜粋している。</p> <table><thead><tr><th>規約</th> <th>著作者</th> <th>URL</th></tr></thead> <tbody><tr><td>Code Conventions for the Java Programming Language</td> <td>Sun Microsystems</td> <td><a href="http://www.oracle.com/technetwork/java/codeconvtoc-136057.html" target="_blank" rel="noopener noreferrer">http://www.oracle.com/technetwork/java/codeconvtoc-136057.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td>Writing Robust Java Code</td> <td>Scott W. Ambler</td> <td><a href="http://www.ambysoft.com/downloads/javaCodingStandards.pdf" target="_blank" rel="noopener noreferrer">http://www.ambysoft.com/downloads/javaCodingStandards.pdf<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td>オブジェクト倶楽部版 Javaコーディング標準</td> <td>オブジェクト倶楽部</td> <td><a href="http://objectclub.jp/community/codingstandard/CodingStd.pdf" target="_blank" rel="noopener noreferrer">http://objectclub.jp/community/codingstandard/CodingStd.pdf<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td>電通国際情報際サービス版 Javaコーディング規約2004</td> <td>電通国際情報サービス</td> <td><a href="http://objectclub.jp/community/codingstandard/JavaCodingStandard2004.pdf" target="_blank" rel="noopener noreferrer">http://objectclub.jp/community/codingstandard/JavaCodingStandard2004.pdf<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td>JJGuideline （Java - J2EE Conventions and Guidelines）</td> <td>Stephan.J &amp; JCS Team</td> <td><a href="http://www.fedict.belgium.be/sites/default/files/downloads/Java_J2EE_conventions_and_guidelines_EN.pdf" target="_blank" rel="noopener noreferrer">http://www.fedict.belgium.be/sites/default/files/downloads/Java_J2EE_conventions_and_guidelines_EN.pdf<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td>Google Java Style (非公式和訳)</td> <td>Google</td> <td><a href="https://kazurof.github.io/GoogleJavaStyle-ja/" target="_blank" rel="noopener noreferrer">https://kazurof.github.io/GoogleJavaStyle-ja/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td>Acroquest Technology Javaコーディング規約</td> <td>Acroquest Technology</td> <td><a href="https://www.acroquest.co.jp/webworkshop/javacordingrule/Acroquest_JavaCodingStandard_6_7.pdf" target="_blank" rel="noopener noreferrer">https://www.acroquest.co.jp/webworkshop/javacordingrule/Acroquest_JavaCodingStandard_6_7.pdf<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr></tbody></table> <p>※ Sun Microsystemsの規約はJava草創期から一応の標準という位置づけだったが、オブジェクト指向、及び、その開発環境の普及・発展によって、設計やコーディングにおいて、直接的に有用な知識や豊富な指針を含むような優れた規約や、ツールなどによる機械的な準拠チェックと連携する規約が普及してきている。</p> <h1 id="規約の重要性"><a href="#規約の重要性" class="header-anchor">#</a> 規約の重要性</h1> <p>標準としての規約を定義し、遵守することの重要性を以下に示す。</p> <ul><li>ソフトウェアメンテナンスにおける、可読性・保守性・拡張性の向上</li> <li>問題を起こしやすい実装を未然に回避することによる、品質・生産性の向上</li> <li>標準規約を通して得られる一般的な実装知識やノウハウ（＝学習効果）</li></ul> <h2 id="コーディングの心得"><a href="#コーディングの心得" class="header-anchor">#</a> コーディングの心得</h2> <p>長いプログラムを記述すること（ステップ数）によって生産性が評価されたのは、過去の時代の出来事である。現在は、クラスやメソッドの役割が明確で、ロジックが読みやすく、保守性に優れたプログラムを記述することが評価される。コーディング規約は、コードの書き方に関する一種のパターンと考えることもでき、コードの保守性を向上させる具体的な方法を示している。したがって、規約の一つ一つの意図を理解し、守ることが重要になる。しかし、保守性に優れたコードを作成するためには、コーディング規約を守ることに加えて、良いコードを記述するための基本的な心構えをしっかり心に留めておく必要がある。以下では、その心得について述べる。</p> <p>【コーディングの心得5か条】</p> <ol><li>見やすさを重視せよ</li> <li>ネーミングはわかりやすく</li> <li>サンプルを鵜呑みにしない</li> <li>同じコードを二度書かない</li> <li>役割は一つに</li></ol> <h3 id="見やすさを重視せよ"><a href="#見やすさを重視せよ" class="header-anchor">#</a> 見やすさを重視せよ</h3> <p>「良いコード」の基本は、「他の人が読んでもわかりやすいと感じられるコード」。コードの見やすさは、フォーマットはもちろん、ロジックの簡潔さやAPIの常識的な使い方などから生まれる。コーディングにあたっては、常に他の人の視点を意識しながら、見やすさに気を配って記述する必要がある。例えば、自分で記述したコードであっても、しばらくたってから読み返してみると理解に時間がかかった経験は誰にもあるはず。「3日前に書いたコードは他人のコードと同じ」ということもよく言われる。見やすさを重視することは、他の人のためだけでなく自分のためにもなる。コードを読んでもすぐに理解できないような実装は、再考（リファクタリング）の必要がある。</p> <h3 id="ネーミングはわかりやすく"><a href="#ネーミングはわかりやすく" class="header-anchor">#</a> ネーミングはわかりやすく</h3> <p>コーディングでは、様々な変数やメソッドなどにネーミング（名前付け）する必要がある。ネーミングとは、本来、その対象の本質を表すような名前を考える作業である。大変難易度の高い作業だが、一方で適当に行ってもコードの動作は変わらないため、人によっては手を抜きがちとなる。しかし、ネーミングの良し悪しは、コードの可読性に非常に大きな影響を及ぼす。例えば、「C0001」というクラス名があるとする。これでは、何を表すクラスなのかすぐにはわからないだろう。また、「int p = 5000;」という記述があるとする。プログラマに聞くと、変数名pは価格(Price)の略だと言うのだが、それならば略さずに、「int price = 5000;」としたほうが分かりやすいはずである。「ネーミングはわかりやすく」の背景には、読んで内容が理解できるという意味で、文章のようなプログラミングを行う、という考え方に基づく。</p> <h3 id="サンプルを鵜呑みにしない"><a href="#サンプルを鵜呑みにしない" class="header-anchor">#</a> サンプルを鵜呑みにしない</h3> <p>サンプルコードを活用すること自体は、著作権等を侵害しなければ問題ない。問題なのは、その内容や背景を理解しないまま、サンプルコードだけを鵜呑みにして、「おまじない」として表面的に適用してしまうことである。コードを「おまじない」ととらえていては、サンプルコードの間違いを気づかないまま適用してしまうこともある。例えば、ストリームのクローズ処理を行っていないサンプルコードであっても、それに気づかずに自分のコードに適用してしまい、後で思わぬ障害を引き起こすという可能性がある。サンプルコードは、そこで説明する内容に絞ったコードが多いため、このような例はよく見られる。また、サンプルコードをそのまま適用した結果、自分が記述すべきコードには必要のないコードが含まれてしまう場合もある。その場合、コードの可読性を下げる原因となる。自分のコードは、自分で深く理解して記述すべきである。</p> <h3 id="同じコードは二度書かない"><a href="#同じコードは二度書かない" class="header-anchor">#</a> 同じコードは二度書かない</h3> <p>コードをコピー・ペーストしていませんか？コピー・ペーストしてしまうと、何らかの修正をする際に、全ての個所に同じ修正をする羽目になる。同じコードが現れるようならまとめて一つにし、外に出してコールするような書き方にすべきである。同じコードをまとめる作業は、どちらかといえば、コーディング時よりリファクタリング（ソフトウェアの外部的振る舞いを変更せずに内部構造を改善する作業）で行われることが多い。しかし、コーディング時からできるだけ気をつけておきたいことでもある。</p> <h3 id="役割は一つに"><a href="#役割は一つに" class="header-anchor">#</a> 役割は一つに</h3> <p>メソッドの役割が明確で、かつ1つであれば単体テストが行いやすくなる。つまり、コードの「試験性」が高まる。また、役割が一つであれば、後でコードを変更する際に修正箇所がわかりやすいため、障害修正に要する時間が短くなる。つまり、コードの「保守性」があがることになる。例えば、「チェックをして実行する」機能を実現するために、checkAndDo()メソッドが存在したとする。この場合、このメソッドはcheck()メソッドとdo()メソッドに分割すべきである。なぜなら、checkAndDo()メソッドのcheck()ロジックに誤りがあった場合、do()メソッドに書かれる内容まで把握する必要が生じるためである。分割してあれば、check()メソッドだけの変更で済む。このことはクラスの設計にもあてはまる。</p> <h1 id="ネーミング規約"><a href="#ネーミング規約" class="header-anchor">#</a> ネーミング規約</h1> <h2 id="全般"><a href="#全般" class="header-anchor">#</a> 全般</h2> <ul><li><p>大文字・小文字の違いで名前を区別しない。</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">int</span> carNumber<span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token keyword">int</span> trainNumber<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">int</span> num<span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token class-name">Num</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul> <h2 id="パッケージ"><a href="#パッケージ" class="header-anchor">#</a> パッケージ</h2> <ul><li>パッケージ名はすべて小文字にする</li> <li>パッケージ名は意味のある名前にする</li> <li>サブパッケージ名の重複は可能</li></ul> <h2 id="クラス"><a href="#クラス" class="header-anchor">#</a> クラス</h2> <ul><li><p>クラス名は単語の先頭を大文字にする<br>
良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Entry</span> <span class="token punctuation">{</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> entry <span class="token punctuation">{</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>インターフェース名はクラス名に準ずる</p></li></ul> <h2 id="メソッド"><a href="#メソッド" class="header-anchor">#</a> メソッド</h2> <ul><li><p>コンストラクタと同じ名前のメソッドはつくらない</p></li> <li><p>メソッド名は区切りのみ大文字にする<br>
良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//・・・</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getname</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//・・・</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">GETNAME</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//・・・</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p>変換メソッド名は「&quot;<code>to</code>&quot;+オブジェクト名」にする<br>
良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>ゲッターメソッド名は「&quot;<code>get</code>&quot;+属性名」にする<br>
型が<code>boolean</code>の場合は「&quot;<code>is</code>&quot;+属性名」にする</p></li> <li><p>セッターメソッド名は「&quot;<code>set</code>&quot;+属性名」にする</p></li> <li><p><code>boolean</code>変数を返すメソッド名は<code>true</code>/<code>false</code>の状態がわかるようにする</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isAsleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">hasExpired</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ul> <h2 id="引数"><a href="#引数" class="header-anchor">#</a> 引数</h2> <ul><li><p>メソッドのパラメータ名とインスタンス変数名を一緒にしない<br>
ただし、アクセサメソッドやコンストラクタなど、統合開発環境の機能により自動生成するものに関しては可とする。<br>
アンダースコア　<code>_</code>　をつけての区別は原則禁止とする。</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token keyword">double</span> rate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">*</span> rate<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token keyword">double</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">*</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token keyword">double</span> _value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">*</span> _value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ul> <h2 id="変数全般"><a href="#変数全般" class="header-anchor">#</a> 変数全般</h2> <ul><li><p><code>boolean</code>変数は<code>true</code>/<code>false</code> の状態がわかるようにする</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">boolean</span> isOpen<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">boolean</span> flag<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>定数は全て<code>static final</code>とし、すべて大文字、区切りは&quot;<code>_</code>&quot;</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> SYSTEM_NAME <span class="token operator">=</span> <span class="token string">&quot;販売管理システム&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>変数名は小文字とし、単語の区切りのみ大文字にする</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token class-name">String</span> thisIsString<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>変数名に固有名詞が含まれる場合、先頭をのぞき、単語の区切り以外に大文字を使用してもよい</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token class-name">String</span> thisIsIPAddress<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <h2 id="ローカル変数"><a href="#ローカル変数" class="header-anchor">#</a> ローカル変数</h2> <ul><li><p>スコープが狭い変数名は省略した名前でもよい<br>
良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>・・・<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot;・・・・&quot;</span><span class="token punctuation">;</span>
   <span class="token comment">//変数sを利用した処理 数行</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot;・・・・&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>・・・<span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token comment">//変数sを利用した処理</span>
<span class="token punctuation">}</span>
・・・
<span class="token keyword">if</span> <span class="token punctuation">(</span>・・・<span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token comment">//変数sを利用した処理</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ul> <p>変数<code>s</code>の利用範囲が広いので役割が明確になる変数名に変更する。</p> <ul><li>for 文のループカウンタは、ネストごとに&quot;<code>i</code>&quot;,&quot;<code>j</code>&quot;,&quot;<code>k</code>&quot;・・・を使う</li></ul> <h1 id="コーディング規約"><a href="#コーディング規約" class="header-anchor">#</a> コーディング規約</h1> <h2 id="全般-2"><a href="#全般-2" class="header-anchor">#</a> 全般</h2> <ul><li><p>原則としてオブジェクトの参照にはインターフェースを利用する<br>
オブジェクトを参照する際は、そのオブジェクトの実装クラスを用いて宣言できるが、実装クラスに適切なインターフェースが存在している場合は、必ずインターフェースを用いて宣言すること。</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Entry</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Entry</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>推奨されないAPI を使用しない<br>
アノテーション<code>@Deprecated</code>で指定されたメソッドは利用しないこと。</p></li> <li><p>使われないコードは書かない</p></li> <li><p>宣言は適切な権限で行うこと（<code>public</code>, <code>protected</code>, <code>private</code>）</p></li> <li><p><code>final</code> を適切に利用する<br>
継承されないクラス、オーバーライドされないメソッド、値の変わらない変数（つまり定数）等、変化のないもの/変化させたくないものについては<code>final</code> で宣言する。</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//継承されないクラス</span>
<span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">CalculateUtils</span> <span class="token punctuation">{</span>
    <span class="token comment">//・・・</span>
<span class="token punctuation">}</span>

<span class="token comment">//値の変わらない変数（定数）</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> MESSAGE <span class="token operator">=</span> <span class="token string">&quot;・・・&quot;</span><span class="token punctuation">;</span>

<span class="token comment">//オーバーライドされないメソッド</span>
<span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token comment">/*変化させたくない値*/</span><span class="token keyword">final</span> <span class="token keyword">int</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> values<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> sumValue <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token comment">/*変化させたくない値*/</span><span class="token keyword">final</span> <span class="token keyword">int</span> value <span class="token operator">:</span> values<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        sumValue <span class="token operator">+=</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> sumValue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></li></ul> <h2 id="フォーマット"><a href="#フォーマット" class="header-anchor">#</a> フォーマット</h2> <ul><li><p>インデントは空白文字4文字分のTabを使用する</p></li> <li><p>長すぎる行は避ける</p></li> <li><p><code>{</code> の後にステートメントを記述しない<br>
良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>1行に2つ以上のステートメントを記述しない<br>
悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;Error&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>カンマの後には空白文字を<br>
良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">process</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">process</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>代入演算子（ <code>=</code> , <code>+=</code> , <code>-=</code> , …）の前後には空白文字を挿入する<br>
良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span> a <span class="token operator">=</span> x<span class="token punctuation">;</span>
a <span class="token operator">+=</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span> a<span class="token operator">=</span>x<span class="token punctuation">;</span>
a<span class="token operator">+=</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>for 文内のセミコロンの後には空白文字を挿入する<br>
良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//・・・</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length <span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//・・・</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p><code>++</code> や <code>--</code> とオペランドの間には空白文字を入れない<br>
良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>i<span class="token operator">++</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>i <span class="token operator">++</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>ビット演算子（ <code>|</code> 、 <code>&amp;</code> 、 <code>^</code> 、 <code>&lt;&lt;</code> 、 <code>&gt;&gt;</code> ）の前後には空白文字を挿入する</p></li> <li><p>論理演算子（ <code>||</code> 、<code>&amp;&amp;</code>）の前後には空白文字を挿入する</p></li> <li><p>関係演算子（ <code>&lt;</code> 、 <code>&gt;</code> 、 <code>&gt;=</code> 、 <code>&lt;=</code>、<code>==</code>、 <code>!=</code> ）の前後には空白文字を挿入する</p></li> <li><p>算術演算子（ <code>＋</code> 、 <code>－</code> 、 <code>＊</code> 、 <code>/</code> 、 <code>%</code> ）の前後には空白文字を挿入する</p></li> <li><p>return文ではカッコを使わない<br>
良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span> answer <span class="token operator">=</span> <span class="token punctuation">(</span>a <span class="token operator">+</span> b <span class="token operator">+</span> c<span class="token punctuation">)</span> <span class="token operator">*</span> d<span class="token punctuation">;</span>
<span class="token keyword">return</span> answer<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b <span class="token operator">+</span> c<span class="token punctuation">)</span> <span class="token operator">*</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>ifなどの条件式でbooleanの変数を比較しない</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>hasStock<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>hasStock <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>不等号の向きは左向き（ <code>&lt;</code> 、 <code>&lt;=</code> ）にする<br>
良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>from <span class="token operator">&lt;=</span> x <span class="token operator">&amp;&amp;</span> x <span class="token operator">&lt;=</span> <span class="token keyword">to</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&gt;=</span> from <span class="token operator">&amp;&amp;</span> x <span class="token operator">&lt;=</span> <span class="token keyword">to</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <h2 id="コメント"><a href="#コメント" class="header-anchor">#</a> コメント</h2> <ul><li><p>ファイルの先頭へのCopyrightの表記について<br>
ソースのファイルヘッダにコピーライト標記は法的拘束力がないため、不要とする。<br>
ただし、顧客からの要求があった場合を除く。</p></li> <li><p>Javadoc コメントには、少なくともauthorとversion(クラス)、paramとreturn とexception(メソッド)を記述する</p> <ul><li>今後もバージョンアップのリリースが予定されているソースでは、上記に加えてsince（バージョン）を記述する</li> <li><code>@Override</code>のあるメソッドでは、上記に加えて<code>{@Inherit}</code>を記述する</li></ul></li> <li><p>Javadoc　クラスヘッダコメントのフォーマットは以下の通り</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * Action（or Bean）クラス　メニュー名称
 *
 * @author 姓 名
 * @version バージョン YYYY/MM/DD 説明
 */</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p>コメントは必要なものだけを簡潔に<br>
悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * 文字列に変換
 */</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token comment">/**
 * コピー
 *
 * @return コピーしたインスタンス
 */</span>
<span class="token keyword">public</span> <span class="token class-name">Entry</span> <span class="token function">copy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li> <li><p>不要なコメントは記載しない</p> <ul><li>コードからすぐわかること・冗長なコメント</li> <li>名前の説明<br>
コメントではなくわかりやすい名前を付ける。</li> <li>別システムで管理している内容<br>
ソースコード管理システム、バグトラッキングシステムで管理している内容はソースコードにコメントで記載する必要はない。
<ul><li>コメントアウトされたコード<br>
ソースコード管理システムで管理されている</li></ul></li></ul></li></ul> <h2 id="インポート"><a href="#インポート" class="header-anchor">#</a> インポート</h2> <ul><li><p><code>java.lang</code>パッケージはインポートしない</p> <p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang</span><span class="token punctuation">.</span><span class="token class-name">String</span><span class="token punctuation">;</span><span class="token comment">//必要のない記述</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>原則としてstaticインポートしない<br>
JUnitの作成やフレームワークとしてstaticインポートが推奨されるような場合は利用してもよい</p></li> <li><p>原則としてオンデマンドのインポート宣言(type-import-on-demand declaration)（アスタリスク<code>*</code>によるインポート） は行わない</p> <p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util</span><span class="token punctuation">.</span>*<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <h2 id="コンストラクタ"><a href="#コンストラクタ" class="header-anchor">#</a> コンストラクタ</h2> <ul><li><p>public 宣言していないクラスには<code>public</code>権限のコンストラクタを作らない<br>
良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Entry</span> <span class="token punctuation">{</span>
    <span class="token comment">//・・・</span>
    <span class="token class-name">Entry</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//・・・</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Entry</span> <span class="token punctuation">{</span>
    <span class="token comment">//・・・</span>
    <span class="token keyword">public</span> <span class="token class-name">Entry</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//・・・</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p>インスタンスメンバを持たない（staticメンバのみの）クラスは、<code>private</code>権限のコンストラクタを作成する</p></li></ul> <h2 id="メソッド-2"><a href="#メソッド-2" class="header-anchor">#</a> メソッド</h2> <ul><li><p>オーバーライドさせたくないメソッドは<code>final</code>を利用する</p></li> <li><p>戻り値が配列のメソッドで、戻る配列のサイズが0の場合、メソッドを使用するクライアントの余計なnullチェックのロジックを回避するため、nullではなく長さゼロの配列を戻すようにする。
良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">toArray</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> s<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">ArrayUtils</span><span class="token punctuation">.</span>EMPTY_STRING_ARRAY<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> s <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">toList</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> s<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">emptyList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">toArray</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> s<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> s <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">toList</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> s<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li> <li><p>メソッドは1つの役割にする</p></li></ul> <h2 id="クラスメソッド"><a href="#クラスメソッド" class="header-anchor">#</a> クラスメソッド</h2> <ul><li><p>クラスメソッドを利用するときは、クラス名を使って呼び出す<br>
良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span> comp <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Integer</span> a <span class="token operator">=</span> <span class="token comment">//</span>
<span class="token keyword">int</span> comp <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul> <h2 id="変数全般-2"><a href="#変数全般-2" class="header-anchor">#</a> 変数全般</h2> <ul><li><p>1つのステートメントには1つの変数宣言<br>
良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/** 科目コード */</span>
<span class="token keyword">private</span> <span class="token class-name">String</span> code<span class="token punctuation">;</span>
<span class="token comment">/** 科目名 */</span>
<span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
<span class="token comment">/** 科目略名 */</span>
<span class="token keyword">private</span> <span class="token class-name">String</span> shortName<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token class-name">String</span> code<span class="token punctuation">,</span> name<span class="token punctuation">,</span> shortName<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>リテラルは使用しない<br>
リテラルとは、コード中に、表現が定数として直接現れており、記号やリストで表現することができないものを指す（数値、文字列両方含む　通称マジックナンバー）。コードの可読性・保守性の低下を防ぐために、リテラル定数（<code>static final</code> フィールド）を使用すること。<br>
例外：<code>-1</code>,<code>0</code>,<code>1</code> 等をカウント値としてループ処理等で使用するような場合</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">double</span> ONE_MILE_METRE <span class="token operator">=</span> <span class="token number">1609.344</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">mileToMetre</span><span class="token punctuation">(</span><span class="token keyword">double</span> mi<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> mi <span class="token operator">*</span> ONE_MILE_METRE<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">mileToMetre</span><span class="token punctuation">(</span><span class="token keyword">double</span> mi<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> mi <span class="token operator">*</span> <span class="token number">1609.344</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><p>リテラル定数の名前はその値の意味を正しく表現したものにする</p> <p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> ZERO <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p>配列宣言は「<code>型名[]</code>」にする</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> sampleArray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">int</span> sampleArray<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>できるだけローカル変数を利用する<br>
ローカル変数で事足りるものをインスタンス変数として利用するなど、必要のないインスタンス変数を定義すると、パフォーマンスや可読性の低下やの大きな要因となる上、マルチスレッドを意識した際に不整合がおきる可能性があるので、インスタンス変数は必要性を充分に考慮してから使用すること。</p></li> <li><p>定数は<code>final</code>で宣言する</p></li> <li><p>ローカル変数とインスタンス変数を使いわける</p></li></ul> <h2 id="定数"><a href="#定数" class="header-anchor">#</a> 定数</h2> <ul><li><p><code>public</code> で宣言するクラス変数とインスタンス変数は、定数のみとし、 <code>static final</code> で定義する<br> <code>final</code> ではない <code>static</code> な定数は作成しない。</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> PROTOCOL_HTTP <span class="token operator">=</span> <span class="token string">&quot;http&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>定数（ <code>static</code> フィールド）に、 <code>static</code> ではないメソッドから書き込まない</p></li> <li><p>定数は、プリミティブ型もしくは、不変（Immutable）オブジェクトで参照する</p> <ul><li><p>不変<code>List</code>の生成には<code>Collections</code>クラスの<code>unmodifiableList()</code>メソッドを利用する</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> VALUES <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">unmodifiableList</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> VALUES <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>不変<code>Set</code>の生成には<code>Collections</code>クラスの<code>unmodifiableSet()</code>メソッドを利用する</p></li> <li><p>不変<code>Map</code>の生成には<code>Collections</code>クラスの<code>unmodifiableMap()</code>メソッドを利用する</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> VALUES_MAP <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">unmodifiableMap</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">{</span>
        <span class="token function">put</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">put</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">put</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;C&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> VALUES_MAP <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">{</span>
        <span class="token function">put</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">put</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">put</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;C&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li><p>不変な配列インスタンスは長さ0の配列以外は生成不可能なため、外部から参照される（<code>public</code>）定数では利用せず、<code>List</code>等への置き換えをすること</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> VALUES <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">unmodifiableList</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> VALUES <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li></ul> <h2 id="インスタンス変数"><a href="#インスタンス変数" class="header-anchor">#</a> インスタンス変数</h2> <ul><li><p>インスタンス変数は<code>private</code>にする</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Employee</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">long</span> id<span class="token punctuation">;</span>

    <span class="token comment">//・・・</span>
    <span class="token comment">//getter/setter</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Employee</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">long</span> id<span class="token punctuation">;</span>

    <span class="token comment">//・・・</span>
    <span class="token comment">//getter/setter</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ul> <h2 id="クラス変数"><a href="#クラス変数" class="header-anchor">#</a> クラス変数</h2> <ul><li><p><code>public static final</code> 宣言した配列を利用しない<br>
※「定数」を参照</p></li> <li><p>クラス変数にはクラス名を使用してアクセスすること</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">BigDecimal</span> b <span class="token operator">=</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">.</span>ZERO<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">BigDecimal</span> a <span class="token operator">=</span> <span class="token comment">//</span>
<span class="token class-name">BigDecimal</span> b <span class="token operator">=</span> a<span class="token punctuation">.</span>ZERO<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div> <br></li></ul> <h2 id="ローカル変数-2"><a href="#ローカル変数-2" class="header-anchor">#</a> ローカル変数</h2> <ul><li><p>ローカル変数は利用する直前で宣言する<br>
行間の程度にもよるが、ある程度まとめて宣言するのはOKとする。</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lines<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> line <span class="token operator">=</span> lines<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">//lineの処理</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> line<span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lines<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    line <span class="token operator">=</span> lines<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">//lineの処理</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p>ローカル変数は安易に再利用しない<br>
一度宣言したローカル変数を、複数の目的で安易に使いまわさないこと。ローカル変数は、役割ごとに新しいものを宣言して初期化することにより、コードの可読性・保守性の向上、及びコンパイラの最適化の促進をはかる。</p></li></ul> <h2 id="引数-2"><a href="#引数-2" class="header-anchor">#</a> 引数</h2> <ul><li><p>メソッド引数への代入は行わない<br>
原則として<code>final</code>で宣言する。</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//・・・</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul> <h2 id="継承"><a href="#継承" class="header-anchor">#</a> 継承</h2> <ul><li><p>スーパークラスのインスタンス変数をサブクラスでオーバーライドしない<br>
スーパークラスと同じ名前のフィールドをサブクラスで宣言しないこと。 同じ名前のフィールドを宣言すると、スーパークラスのフィールドはサブクラスで宣言されたフィールドによって隠ぺいされてしまうので、他の人の混乱を招くことを防ぐため重複する名前は付けないこと。</p> <p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Abs</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Sub</span> <span class="token keyword">extends</span> <span class="token class-name">Abs</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span><span class="token comment">//Abs#nameは隠ぺいされる</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li><p>スーパークラスのメソッドをオーバーライドするときは@Overrideアノテーションを指定する。</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Abs</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Sub</span> <span class="token keyword">extends</span> <span class="token class-name">Abs</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Abs</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Sub</span> <span class="token keyword">extends</span> <span class="token class-name">Abs</span> <span class="token punctuation">{</span>
    <span class="token comment">//@Overrideアノテーションの指定がない</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li> <li><p>スーパークラスでprivate 宣言されているメソッドと同じ名前のメソッドをサブクラスで定義しない<br>
スーパークラスにあるprivate メソッドと同じ名前のメソッドをサブクラスで定義しないこと。private メソッドはオーバーライドされず全く別のメソッドとして扱われ、他の人の混乱を招き、バグにつながる恐れがある。</p></li></ul> <h2 id="インナークラス"><a href="#インナークラス" class="header-anchor">#</a> インナークラス</h2> <ul><li>原則としてインナークラスは利用しない<br>
一つのjavaファイルに複数のクラスを記載するのはNGとする。また無名クラスを利用するのも原則としてNGとする。<br>
Enumの定数固有メソッド実装(constant-specific method implementation)、Java8のラムダ式は内部的にインナークラスとされるがこれらは許可する。</li></ul> <h2 id="メンバー順序"><a href="#メンバー順序" class="header-anchor">#</a> メンバー順序</h2> <ul><li><p>以下の順で記述する</p> <ol><li>staticフィールド</li> <li>staticイニシャライザー</li> <li>staticメソッド</li> <li>フィールド</li> <li>イニシャライザー</li> <li>コンストラクター</li> <li>メソッド</li></ol></li> <li><p>同一カテゴリー内では以下の可視性の順で記述する</p> <ol><li>public</li> <li>protected</li> <li>パッケージprivate</li> <li>private</li></ol></li></ul> <h2 id="インスタンス"><a href="#インスタンス" class="header-anchor">#</a> インスタンス</h2> <ul><li><p>オブジェクト同士は<code>equals()</code>メソッドで比較する</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> s1 <span class="token operator">=</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s2 <span class="token operator">=</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//・・・</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> s1 <span class="token operator">=</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s2 <span class="token operator">=</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>s1 <span class="token operator">==</span> s2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//・・・</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ただしEnumの場合は<code>==</code>演算子を利用して比較する</p> <p><code>equals()</code>メソッドで比較する際、左辺のオブジェクトがnullにならないように制御すること。</p></li> <li><p>Class 名を利用した比較をおこなわない</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token punctuation">(</span>o <span class="token keyword">instanceof</span> <span class="token class-name">Foo</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token punctuation">(</span><span class="token string">&quot;hoge.Foo&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <h2 id="制御構造"><a href="#制御構造" class="header-anchor">#</a> 制御構造</h2> <ul><li><p>制御文（ <code>if</code> , <code>else</code> , <code>while</code> , <code>for</code> , <code>do while</code> ）の <code>{ }</code> は省略しない</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>ステートメントが無い <code>{}</code> ブロックを利用しない<br>
悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//{}内の記述が無い</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p><code>if</code> / <code>while</code> の条件式で <code>=</code> は利用しない<br>
良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">boolean</span> a <span class="token operator">=</span><span class="token comment">//</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//・・・</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">boolean</span> a <span class="token operator">=</span><span class="token comment">//</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//コーディングミス</span>
    <span class="token comment">//・・・</span>
<span class="token punctuation">}</span>


<span class="token keyword">boolean</span> a <span class="token operator">=</span><span class="token comment">//</span>
<span class="token keyword">boolean</span> b <span class="token operator">=</span><span class="token comment">//</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">=</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//おそらくコーディングミス</span>
    <span class="token comment">//・・・</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li> <li><p><code>for</code> と <code>while</code> の使い分けを意識する</p></li> <li><p>for 文を利用した繰り返し処理中でループ変数の値を変更しない<br>
悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> array <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token comment">/*・・・*/</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//・・・</span>
    i <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token comment">//NG</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> s <span class="token operator">:</span> array<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//・・・</span>
    s <span class="token operator">=</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">;</span><span class="token comment">//NG</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li> <li><p>for 文のカウンタは特別な事情がない限り、0から始める</p></li> <li><p>配列やリストなどの全要素に対するループ処理は拡張for文を使用する。<br>
良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> value <span class="token operator">:</span> array<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//・・・</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> value <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//・・・</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li><p>配列をコピーするときは<code>Arrays.copyOf()</code>メソッドを利用する</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> newArray <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">copyOf</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> array<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> newArray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>array<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">arraycopy</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> newArray<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> array<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>繰り返し処理中のオブジェクトの生成は最小限にする</p></li> <li><p>if 文とelse 文の繰り返しやswitch 文の利用はなるべく避け、オブジェクト指向の手法を利用する<br>
良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">CodingKind</span> codingKind <span class="token operator">=</span> <span class="token function">toCodingKind</span><span class="token punctuation">(</span>kind<span class="token punctuation">)</span><span class="token punctuation">;</span>
d <span class="token operator">=</span> codingKind<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//---</span>

<span class="token class-name">CodingKind</span> codingKind <span class="token operator">=</span> <span class="token function">toCodingKind</span><span class="token punctuation">(</span>kind<span class="token punctuation">)</span><span class="token punctuation">;</span>
s <span class="token operator">=</span> codingKind<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">switch</span> <span class="token punctuation">(</span>kind<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
    d <span class="token operator">=</span> <span class="token function">encode1</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
    d <span class="token operator">=</span> <span class="token function">encode2</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token keyword">default</span><span class="token operator">:</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//---</span>

<span class="token keyword">switch</span> <span class="token punctuation">(</span>kind<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
    s <span class="token operator">=</span> <span class="token function">decode1</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
    s <span class="token operator">=</span> <span class="token function">decode2</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token keyword">default</span><span class="token operator">:</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div></li> <li><p>繰り返し処理の内部で <code>try</code> ブロックを利用しない<br>
特に理由がない場合は繰り返し処理の外に<code>try</code>ブロックを記載する。<br>
ただし、繰り返し処理内部で例外をキャッチし処理を行いたい場合は繰り返し処理の内部で<code>try</code>ブロックを利用してもよい。</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> s <span class="token operator">:</span> array<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">BigDecimal</span> num<span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        num <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">NumberFormatException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        num <span class="token operator">=</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">.</span>ZERO<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//・・・</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li></ul> <h2 id="文字列操作"><a href="#文字列操作" class="header-anchor">#</a> 文字列操作</h2> <ul><li><p>文字列同士が同じ値かを比較するときは、<code>equals()</code>メソッドを利用する<br>
良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> s1 <span class="token operator">=</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s2 <span class="token operator">=</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//・・・</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> s1 <span class="token operator">=</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s2 <span class="token operator">=</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>s1 <span class="token operator">==</span> s2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//・・・</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p>文字列リテラルは<code>new</code> しない<br>
良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>更新される文字列には<code>StringBuilder</code> クラスを利用する<br>
良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">StringBuilder</span> builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> s <span class="token operator">:</span> array<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>builder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> string <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> s <span class="token operator">:</span> array<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    string <span class="token operator">+=</span> s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div> <br>
  スレッドセーフ性が保証されていない箇所では`StringBuffer`クラスを利用する  
<p><a href="#%E6%96%87%E5%AD%97%E5%88%97%E9%80%A3%E7%B5%90">※パフォーマンスについても記載しているので参考にしてください</a></p></li> <li><p>更新されない文字列には<code>String</code> クラスを利用する</p></li> <li><p>文字列リテラルと定数を比較するときは、文字列リテラルの<code>equals()</code>メソッドを利用する<br>
良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> PROTOCOL_HTTP <span class="token operator">=</span> <span class="token string">&quot;http&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>PROTOCOL_HTTP<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">getProtocol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> PROTOCOL_HTTP <span class="token operator">=</span> <span class="token string">&quot;http&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">getProtocol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>PROTOCOL_HTTP<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p>プリミティブ型と<code>String</code> オブジェクトの変換には、変換用のメソッドを利用する<br>
良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// &quot;1000&quot;</span>
s <span class="token operator">=</span> <span class="token class-name">NumberFormat</span><span class="token punctuation">.</span><span class="token function">getNumberInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 3桁区切り &quot;1,000&quot;</span>

<span class="token keyword">boolean</span> b <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
s <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// true/false</span>
s <span class="token operator">=</span> <span class="token class-name">BooleanUtils</span><span class="token punctuation">.</span><span class="token function">toStringOnOff</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// on/off</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li><p>文字列の中に、ある文字が含まれているか調べるには、<code>contains()</code>メソッドを利用する</p></li> <li><p>システム依存記号（ <code>¥n</code> 、 <code>¥r</code> など）は使用しない。<br>
悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> text <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">joining</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul> <h2 id="数値"><a href="#数値" class="header-anchor">#</a> 数値</h2> <ul><li><p>誤差の無い計算をするときは、<code>BigDecimal</code> クラスを使う<br>
浮動小数点演算は科学技術計算に利用するもので、誤差が発生する。これに対して、クラス「<code>BigDecimal</code>」は、文字列で数値の計算を行うので、金額などの正確な計算に適している。<code>BigDecimal</code> ではインスタンス生成時に指定された桁数での精度が保証される。</p></li> <li><p>数値の比較は精度に気をつける<br>
良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">BigDecimal</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">BigDecimal</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;1.0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;一致&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">BigDecimal</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">BigDecimal</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;1.0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;精度が違うためこの分岐には入らない&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p>低精度なプリミティブ型にキャストしない</p></li> <li><p><code>BigDecimal</code>を<code>String</code>変換する際は<code>toString()</code>ではなく<code>toPlainString()</code>を利用すること<br> <code>toString()</code>を利用した場合、指数表記になることがあります。</p></li></ul> <h2 id="日付"><a href="#日付" class="header-anchor">#</a> 日付</h2> <ul><li><p>日付の文字列のフォーマットには、<code>SimpleDateFormat</code>または<code>DateTimeFormatter</code>を使う<br>
良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">SimpleDateFormat</span> dateFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy/MM/dd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s <span class="token operator">=</span> dateFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul> <h2 id="三項演算子"><a href="#三項演算子" class="header-anchor">#</a> 三項演算子</h2> <ul><li>入れ子の三項演算子の利用は禁止<br>
可読性が悪くなるので三項演算子を入れ子で行うのは禁止。</li></ul> <h2 id="コレクション"><a href="#コレクション" class="header-anchor">#</a> コレクション</h2> <ul><li><p>Java2以降のコレクションクラスを利用する<br> <code>Vector</code> クラス、<code>Hashtable</code> クラス、<code>Enumeration</code> 等は、特にこれらを利用する理由がなければ、インターフェースを統一する目的で、これらの代わりに<code>List</code>(<code>ArrayList</code> クラス)、<code>Map</code>(<code>HashMap</code> クラス)、<code>Iterator</code> を使用すること。<code>List</code> などのインターフェースを利用することでJDK1.2 で整理されたわかりやすいメソッドを利用でき、また、インターフェースの特性から呼び出し元を変更せずに実装クラスを変更することができる。</p></li> <li><p>特定の型のオブジェクトだけを受け入れるコレクションクラスを利用する</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p><code>List</code>のソートは<code>List.sort()</code>を利用する<br> <code>List</code>クラスの要素をソートする際はJava8で追加された<code>List.sort()</code>を利用すること。<br>
Java 7以前で利用されていた<code>Collections.sort()</code>は利用しないこと。</p></li> <li><p><code>Collection.forEach()</code>は利用しない。拡張for文の利用を検討する<br>
Java8で追加されたメソッド。<br>
拡張for文を利用したほうが多くの場合でデバッグに有利であり、可読性においても<code>forEach</code>の優位性は少ないため、<code>forEach</code>は原則利用しない。拡張for文を利用する。<br>
具体的には下記のメソッドを利用しないこと。</p> <ul><li><code>Collection#forEach</code></li> <li><code>Set#forEach</code></li> <li><code>List#forEach</code></li></ul> <p>※ <code>Map#forEach</code>はこの限りではない</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> s <span class="token operator">:</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//処理</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//処理</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ただし、メソッド参照で処理できる場合は<code>forEach</code>を利用する。<br>
（デバッグのデメリットがほとんどなく、他と比較して処理効率が良いため）</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">process</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> s <span class="token operator">:</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul> <h2 id="ラムダ式・メソッド参照・コンストラクタ参照"><a href="#ラムダ式・メソッド参照・コンストラクタ参照" class="header-anchor">#</a> ラムダ式・メソッド参照・コンストラクタ参照</h2> <ul><li><p>ラムダ式が利用できる箇所はラムダ式を利用してよい<br> <a href="#%E3%83%A9%E3%83%A0%E3%83%80%E5%BC%8F%E3%83%BB%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E5%8F%82%E7%85%A7%E3%83%BB%E3%82%B3%E3%83%B3%E3%82%B9%E3%83%88%E3%83%A9%E3%82%AF%E3%82%BF%E5%8F%82%E7%85%A7-2">※パフォーマンスについても記載しているので参考にしてください</a></p></li> <li><p>ただし、メソッド参照・コンストラクタ参照が利用できる場合はメソッド参照・コンストラクタ参照を利用する</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">compareToIgnoreCase</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> s1<span class="token punctuation">.</span><span class="token function">compareToIgnoreCase</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">BigDecimal</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">add</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token punctuation">(</span>b1<span class="token punctuation">,</span> b2<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> b1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>b2<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>ラムダ式記述の際、型宣言は省略記法で記述する</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> s1 <span class="token operator">+</span> <span class="token string">&quot;=&quot;</span> <span class="token operator">+</span> s2  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token punctuation">(</span><span class="token class-name">String</span> s1<span class="token punctuation">,</span> <span class="token class-name">String</span> s2<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> s1 <span class="token operator">+</span> <span class="token string">&quot;=&quot;</span> <span class="token operator">+</span> s2  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>原則ラムダ式内の行数は1行とする<br>
複数行で利用したい場合は、<code>private</code>メソッドを作成しメソッド参照を利用する</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">this</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">getMax</span>

<span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">getMax</span><span class="token punctuation">(</span><span class="token keyword">int</span> i1<span class="token punctuation">,</span> <span class="token keyword">int</span> i2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i1 <span class="token operator">&gt;</span> i2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> i1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> i2<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token punctuation">(</span>i1<span class="token punctuation">,</span> i2<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i1 <span class="token operator">&gt;</span> i2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> i1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> i2<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li><p>原則ラムダ式は1行記述に限定するので、中カッコ、<code>return</code>は必ず省略する</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> s1 <span class="token operator">+</span> <span class="token string">&quot;=&quot;</span> <span class="token operator">+</span> s2  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> s1 <span class="token operator">+</span> <span class="token string">&quot;=&quot;</span> <span class="token operator">+</span> s2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul> <h2 id="実質的final（effectively-final）"><a href="#実質的final（effectively-final）" class="header-anchor">#</a> 実質的final（effectively final）</h2> <ul><li>実質的finalを利用する<br>
変数宣言に<code>final</code>を記載しなくてよい。</li></ul> <h2 id="stream-api"><a href="#stream-api" class="header-anchor">#</a> Stream API</h2> <ul><li><p>利用してよい<br> <a href="#stream-api-2">※パフォーマンスについても記載しているので参考にしてください</a></p></li> <li><p>並列ストリームは利用しないこと<br>
悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> s <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">parallelStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> s <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">parallel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>StreamAPI記述の際の改行位置は、各中間処理・末端処理前のピリオドの前で改行する</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Character</span><span class="token punctuation">&gt;</span></span> alphabetLower <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token class-name">Character</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">isAlphabetic</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Character</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">toLowerCase</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Character</span><span class="token punctuation">&gt;</span></span> alphabetLower <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token class-name">Character</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">isAlphabetic</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Character</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">toLowerCase</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Character</span><span class="token punctuation">&gt;</span></span> alphabetLower <span class="token operator">=</span> list
    <span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token class-name">Character</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">isAlphabetic</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Character</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">toLowerCase</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li> <li><p>インデントは統合開発環境の提供するフォーマッタに合わせる</p></li> <li><p>中間処理の数は3つ（3行）程度までを推奨する<br>
中間処理の記述が多くなると可読性も悪くなり、デバッグも難しくなるため、3行程度を目安にロジックを検討すること。</p></li> <li><p>コメントは、原則として処理中には記載しない<br>
難解になってしまった場合のみ処理中の記載を認める</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// クラスFooのフィールドStrの値で昇順にソートし、フィールドStrの要素を取得して処理する。</span>
hogeList<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">comparing</span><span class="token punctuation">(</span><span class="token class-name">Foo</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">getStr</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Foo</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">getStr</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">proc</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>hogeList<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">comparing</span><span class="token punctuation">(</span><span class="token class-name">Foo</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">getStr</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//クラスFooのフィールドStrの値で昇順にソート</span>
    <span class="token punctuation">.</span>map <span class="token punctuation">(</span><span class="token class-name">Foo</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">getStr</span><span class="token punctuation">)</span> <span class="token comment">//フィールドStrの要素を取得</span>
    <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">proc</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//処理</span>


hogeList<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">//クラスFooのフィールドStrの値で昇順にソート</span>
    <span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">comparing</span><span class="token punctuation">(</span><span class="token class-name">Foo</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">getStr</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">//フィールドStrの要素を取得</span>
    <span class="token punctuation">.</span>map <span class="token punctuation">(</span><span class="token class-name">Foo</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">getStr</span><span class="token punctuation">)</span>
    <span class="token comment">//処理</span>
    <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">proc</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li> <li><p>Streamは極力変数代入しないこと<br>
Streamは中間処理、末端処理を行うと使用済みとなり、以降同じインスタンスは利用できない。<br>
変数代入はほとんどの場合意味をなさず、むしろミスの元となるため極力変数代入はしないこと。</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list1 <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">toLowerCase</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list2 <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> s <span class="token operator">+</span> s<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> stream <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> stream1 <span class="token operator">=</span> stream<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">toLowerCase</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list1 <span class="token operator">=</span> stream1<span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> stream2 <span class="token operator">=</span> stream<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> s <span class="token operator">+</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//コーディングミス streamは使用済のためエラーになる</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list2 <span class="token operator">=</span> stream2<span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ul> <h2 id="optional"><a href="#optional" class="header-anchor">#</a> Optional</h2> <ul><li><p>Optionalは同メソッド内で値を取り出す場合は極力変数代入しないこと<br>
Optionalとその値の変数は同じものを示す名前となり、同じ意味の変数名が複数現れることで可読性が下がるため、Optionalの変数代入は行わないこととする。</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Employee</span> employee <span class="token operator">=</span> <span class="token function">findEmployee</span><span class="token punctuation">(</span>employeeId<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">orElseThrow</span><span class="token punctuation">(</span><span class="token class-name">IllegalArgumentException</span><span class="token operator">:</span><span class="token operator">:</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> employeeOpt <span class="token operator">=</span> <span class="token function">findEmployee</span><span class="token punctuation">(</span>employeeId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Employee</span> employee <span class="token operator">=</span> employeeOpt<span class="token punctuation">.</span><span class="token function">orElseThrow</span><span class="token punctuation">(</span><span class="token class-name">IllegalArgumentException</span><span class="token operator">:</span><span class="token operator">:</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div> <br>
  直接、値を取り出すことなくOptionalでのみ扱う場合はOptionalを変数代入してもよい。  
<p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> employee <span class="token operator">=</span> <span class="token function">findEmployee</span><span class="token punctuation">(</span>employeeId<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Dept</span> dept <span class="token operator">=</span> employee<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Employee</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">getDivision</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Division</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">getDept</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">orElse</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Role</span> role <span class="token operator">=</span> employee<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Employee</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">getRole</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">orElse</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//-----</span>

<span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> employee <span class="token operator">=</span> <span class="token function">findEmployee</span><span class="token punctuation">(</span>employeeId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//・・・処理</span>
<span class="token keyword">return</span> employee<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li></ul> <h2 id="ストリーム（inputstream-outputstream）"><a href="#ストリーム（inputstream-outputstream）" class="header-anchor">#</a> ストリーム（InputStream OutputStream）</h2> <ul><li><p>ストリームを扱うAPI を利用するときは、try-with-resources文で後処理をする</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">try</span><span class="token punctuation">(</span><span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">Files</span><span class="token punctuation">.</span><span class="token function">newInputStream</span><span class="token punctuation">(</span><span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;HOGE.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//inputStreamに対する処理を記載</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p><code>ObjectOutputStream</code> では<code>reset()</code>を利用する</p></li></ul> <h2 id="リソースの解放"><a href="#リソースの解放" class="header-anchor">#</a> リソースの解放</h2> <ul><li><p>リソース解放を必要とするクラスを利用するときは、try-with-resources文で後処理をする</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">try</span><span class="token punctuation">(</span><span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">Files</span><span class="token punctuation">.</span><span class="token function">newInputStream</span><span class="token punctuation">(</span><span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;HOGE.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//inputStreamに対する処理を記載</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>リソース解放を必要とするクラスを作成する場合は<code>AutoCloseable</code>を<code>implements</code>する<br> <code>AutoCloseable</code>を<code>implements</code>することでtry-with-resources文が利用できるようになります。</p></li></ul> <h2 id="例外"><a href="#例外" class="header-anchor">#</a> 例外</h2> <ul><li><p>catch 文で受け取る例外は、詳細な例外クラスで受け取る</p> <p>良い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">Files</span><span class="token punctuation">.</span><span class="token function">newInputStream</span><span class="token punctuation">(</span><span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;HOGE.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//・・・</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;Error&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">throw</span> e<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>悪い例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">Files</span><span class="token punctuation">.</span><span class="token function">newInputStream</span><span class="token punctuation">(</span><span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;HOGE.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//・・・</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//範囲が広すぎる例外クラスの利用はNG</span>
    log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;Error&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">throw</span> e<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p><code>Exception</code> クラスのオブジェクトを生成してスローしない</p></li> <li><p><code>catch</code> ブロックでは基本、例外処理をする。ただし処理を書いてはいけない部分もあるので、その部分については、&quot;<code>// ignore</code>&quot; というコメントを記述すること。</p></li> <li><p>例外クラスは無駄に定義しない</p></li></ul> <h2 id="ガベージコレクション"><a href="#ガベージコレクション" class="header-anchor">#</a> ガベージコレクション</h2> <ul><li>原則<code>finalize()</code>のオーバーライド実装は禁止</li> <li>もし<code>finalize()</code>をオーバーライドした場合は<code>super.finalize()</code> を呼び出す</li> <li>アプリケーションから<code>finalize()</code>を呼び出さない</li></ul> <h1 id="コメント規約"><a href="#コメント規約" class="header-anchor">#</a> コメント規約</h1> <h2 id="よいコメントの鉄則"><a href="#よいコメントの鉄則" class="header-anchor">#</a> よいコメントの鉄則</h2> <ul><li><p>コードを明確化するコメントを書く<br>
コードにコメントを書く理由は、自分自身、一緒に仕事をしている人、後に関わる開発者にとってコードをより理解しやすいものにするためである。</p></li> <li><p>コメント化する価値がないプログラムならば、実行するに値しない<br>
有用な格言。コメントは必須。</p></li> <li><p>過剰な装飾は使わない （例：見出し状のコメント）<br>
1960年代から1970年代の典型的なCOBOLプログラマにはアスタリスク( <code>*</code> )でコメントを囲った箱を書く習慣があった。彼らの芸術的な主張を表わしているのかもしれないが、率直に言えばそれは製品に加わるちょっとした価値に比べれば大きな時間の無駄である。かわいいコードではなくきれいなコードを書くはずである。さらに、コードを表示するディスプレイや印刷するプリントに使われるフォントはプロポーショナルだったりそうでなかったりして、箱をきれいに整列させることは難しい。</p></li> <li><p>コメントはシンプルに<br>
かつて見たもっとも最良のコメントは、シンプルな要点をまとめた注釈であった。なにも本を書く必要はなく、他の人がコードを理解するに十分な情報を提供するだけでよいのである。</p></li> <li><p>コードを書く前に先にコメントを記述する<br>
コードをコメント化する最良の方法は、コードを書く前にコメントを書くことである。それが、コードを書く前にコードがどのように動作するかについて考えるよい機会となり、コメントの存在を保障することにもつながる。少なくともコードを書いた時にコメントすべきである。コメントによってコードが理解しやすくなることで、コードの開発中にアドバンテージを得ることができる。コードにコメントを書く時間を費やせば、それによって得られるものがある。</p></li> <li><p>コメントには、なぜそうなのかを書く。コードを読めば分かることを書かない<br>
基本的に、コードの一部分を見ればそれが何かを理解することはできる。例えば、以下のコードを見て、$1000以上の注文については5%ディスカウントされることは理解できる。なぜそうなのか？大きな注文ではディスカウントがつきものだというビジネスルールがあるのだろうか？大きな注文に時間限定サービスがあるのか、それともずっとサービスがあるのか？これを書いたプログラマの気前がよかったのか？<br>
どこかソースコード中か別な文書にコメントされていない限り、それがなぜなのかを知ることはできない。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>grandTotal <span class="token operator">&gt;=</span> <span class="token number">1000.00</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    grandTotal <span class="token operator">=</span> grandTotal <span class="token operator">*</span> <span class="token number">0.95</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>なお、メソッドコメントには、適切なjavadocコメント（タグ）のほかに、以下の内容も可能な限り明記すること。</p> <ul><li>副作用のある処理の場合は、その内容　（→ メソッドの引数オブジェクトがメソッド内で変更されるケースなど）</li> <li>既知のバグ　（→ 判明しているが修正しないことにした場合など）</li> <li>影響のある事前条件、事後条件　（→ メソッドが正しく動作するための前提について）</li> <li>並行性　（→　マルチスレッドでアクセスされた場合の動作について）</li> <li>該当メソッドの使用例やサンプルコード</li></ul></li> <li><p>TODOコメント<br>
設計者確認待ち、共通処理の作成待ちなどの理由により、実装時にTODOがある場合、下記のようにコメントを記述する。<br>
（EclipseのTODOコメント形式を採用）<br>
例）</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>//TODO：ワークフローの仕様決定待ち　関連チケット#12345
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <h2 id="javaコメント（3種類）の使い分け"><a href="#javaコメント（3種類）の使い分け" class="header-anchor">#</a> Javaコメント（3種類）の使い分け</h2> <p>Javaでは3種類のコメントが使える。javadocコメントは<code>/**</code>で開始され、<code>*/</code>で終わる。C風コメントは<code>/*</code>で開始され<code>*/</code>で終わる。単一行コメントは<code>//</code>で開始され、そのソースコード行が終わるまで続く。以下の表ではコメントの使い方とその例を示す。（コメントのスタイルに関しては、前述の「標準規約に準拠したコーディング例」を参照）</p> <table><thead><tr><th>コメント種類</th> <th>使用方法</th> <th>例</th></tr></thead> <tbody><tr><td>javadocコメント<br><code>/** comment */</code></td> <td>interface、class、メソッド、フィールドの直前に書く。コメントはjavadocによって処理され、外部ドキュメント(HTML)として生成される。（この形式以外のコメントはドキュメントとして出力されないことに注意）</td> <td><code class="comment-code">/**<br> * 顧客（Customer）-<br> * 顧客はわれわれがサービスまたは製品を売った人物<br> * もしくは組織のいずれかである。<br> * @author 開発太郎<br> */</code></td></tr> <tr><td>C 風コメント<br><code>/* comment */</code></td> <td>特定のコードを無効化したいが、後で使用するかもしれないので残しておくためにコメント化する時や、デバッグ時に一時的に無効化するときに使用する。</td> <td><code class="comment-code">/* <br> このコードはJ.T.Kirkによって1997.12.9に前述のコードと置き換えたためコメント化した。2年間不要であるならば削除せよ。<br> ... (ソースコード) <br> */</code></td></tr> <tr><td>単一行コメント<br><code>// comment</code></td> <td>メソッド内にて、ビジネスロジック、コードの概要、一時変数の定義内容などを記述する。</td> <td><code class="comment-code">// 1995年2月に開始されたX氏の寛大なキャンペーンで<br>// 定められた通り1000$を超える請求には、全て5%割引を<br>// 適用する。</code></td></tr></tbody></table> <p>※ ロジック中に、頻繁にC風コメントでコメントを書くとまとめてコメントアウトする場合に不便なため、基本的にロジック中では単一行コメントを利用すること。</p> <h1 id="パフォーマンス"><a href="#パフォーマンス" class="header-anchor">#</a> パフォーマンス</h1> <p>パフォーマンスを考慮したJavaのコーディングについて以下に示す。</p> <p>※ パフォーマンスはjreのバージョンやスペックによって変化します。本内容はjre1.8.0_74での検証結果を元にした内容です。</p> <p>※ 性能計測結果についての記載がありますが、あくまでも参考値です。性能を保証するものではありません。</p> <p><a id="stream-api-2"></a></p> <h2 id="stream-api-2"><a href="#stream-api-2" class="header-anchor">#</a> Stream API</h2> <p>Java8で追加されたStream APIでの記述は、可読性も高く、簡潔に書けますが、パフォーマンス・性能面で注意が必要な場合があります。</p> <p>Listの処理を行う際、拡張for文で処理する場合はIteratorインスタンスが1つだけ生成されますが、Stream APIで処理する場合、最初のStreamインスタンスに加え、各中間処理ごとにもStreamインスタンスが生成され、その分の性能劣化が懸念されます。<br>
以下に処理例と計測結果を記載します。</p> <ul><li><p>拡張for文</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token comment">//数値文字列のList</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> resultList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> string <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        resultList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">return</span> resultList<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li> <li><p>Stream API</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token comment">//数値文字列のList</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> resultList <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> s<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> resultList<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p>計測結果</p> <table><thead><tr><th style="text-align:right;">処理するListの件数</th> <th style="text-align:right;">拡張for文 (ms)</th> <th style="text-align:right;">StreamAPI (ms)</th></tr></thead> <tbody><tr><td style="text-align:right;">100万件</td> <td style="text-align:right;">7</td> <td style="text-align:right;">9</td></tr> <tr><td style="text-align:right;">1,000万件</td> <td style="text-align:right;">88</td> <td style="text-align:right;">114</td></tr> <tr><td style="text-align:right;">1億件</td> <td style="text-align:right;">949</td> <td style="text-align:right;">1,026</td></tr> <tr><td style="text-align:right;">2億件</td> <td style="text-align:right;">1,822</td> <td style="text-align:right;">2,081</td></tr></tbody></table></li></ul> <p>小中規模の処理量であれば考慮するほどの性能差はありませんが、大量の処理が見込まれる場合は考慮が必要です。<br>
また、Stream APIは並列処理（スレッド処理）の機能をサポートしていますので、利用できる場合は並列処理も含めての検証が必要です。</p> <p><a id="ラムダ式・メソッド参照・コンストラクタ参照-2"></a></p> <h2 id="ラムダ式・メソッド参照・コンストラクタ参照-2"><a href="#ラムダ式・メソッド参照・コンストラクタ参照-2" class="header-anchor">#</a> ラムダ式・メソッド参照・コンストラクタ参照</h2> <p>Java8で追加されたラムダ式・メソッド参照・コンストラクタ参照は、匿名クラスを利用するよりも効率的です。<br>
積極的な利用を推奨します。</p> <p>以下にComparatorを生成した場合の計測結果を記載します。</p> <ul><li><p>匿名クラス</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">String</span> o1<span class="token punctuation">,</span> <span class="token class-name">String</span> o2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> o1<span class="token punctuation">.</span><span class="token function">compareToIgnoreCase</span><span class="token punctuation">(</span>o2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p>ラムダ式</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span> <span class="token punctuation">(</span>o1<span class="token punctuation">,</span> o2<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> o1<span class="token punctuation">.</span><span class="token function">compareToIgnoreCase</span><span class="token punctuation">(</span>o2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>メソッド参照</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span> <span class="token class-name">String</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">compareToIgnoreCase</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>計測結果</p> <table><thead><tr><th style="text-align:right;">処理件数</th> <th style="text-align:right;">匿名クラス (ms)</th> <th style="text-align:right;">ラムダ式 (ms)</th> <th style="text-align:right;">メソッド参照 (ms)</th></tr></thead> <tbody><tr><td style="text-align:right;">10億回</td> <td style="text-align:right;">380</td> <td style="text-align:right;">0(計測不能)</td> <td style="text-align:right;">0(計測不能)</td></tr> <tr><td style="text-align:right;">100億回</td> <td style="text-align:right;">6,374</td> <td style="text-align:right;">0(計測不能)</td> <td style="text-align:right;">0(計測不能)</td></tr> <tr><td style="text-align:right;">1京回</td> <td style="text-align:right;">(30秒以上)</td> <td style="text-align:right;">14</td> <td style="text-align:right;">10</td></tr></tbody></table></li></ul> <p>ラムダ式は外部の変数を利用する場合、匿名クラスとほぼ同じ動作をします。</p> <ul><li><p>匿名クラス</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">String</span> o1<span class="token punctuation">,</span> <span class="token class-name">String</span> o2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> arg<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;DESC&quot;</span><span class="token punctuation">)</span> <span class="token operator">?</span> o2<span class="token punctuation">.</span><span class="token function">compareToIgnoreCase</span><span class="token punctuation">(</span>o1<span class="token punctuation">)</span>
                                            <span class="token operator">:</span> o1<span class="token punctuation">.</span><span class="token function">compareToIgnoreCase</span><span class="token punctuation">(</span>o2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li><p>ラムダ式</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span> <span class="token punctuation">(</span>o1<span class="token punctuation">,</span> o2<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> arg<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;DESC&quot;</span><span class="token punctuation">)</span> <span class="token operator">?</span> o2<span class="token punctuation">.</span><span class="token function">compareToIgnoreCase</span><span class="token punctuation">(</span>o1<span class="token punctuation">)</span>
                                    <span class="token operator">:</span> o1<span class="token punctuation">.</span><span class="token function">compareToIgnoreCase</span><span class="token punctuation">(</span>o2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>計測結果</p> <table><thead><tr><th style="text-align:right;">処理件数</th> <th style="text-align:right;">匿名クラス (ms)</th> <th style="text-align:right;">ラムダ式 (ms)</th></tr></thead> <tbody><tr><td style="text-align:right;">10億回（パラメータあり）</td> <td style="text-align:right;">571</td> <td style="text-align:right;">572</td></tr> <tr><td style="text-align:right;">100億回（パラメータあり）</td> <td style="text-align:right;">9,900</td> <td style="text-align:right;">9,864</td></tr></tbody></table></li></ul> <h2 id="文字列連結"><a href="#文字列連結" class="header-anchor">#</a> 文字列連結</h2> <h3 id="文字列連結（繰り返し）"><a href="#文字列連結（繰り返し）" class="header-anchor">#</a> 文字列連結（繰り返し）</h3> <p>文字列連結を繰り返し処理中で行う際、<code>+</code>演算子で処理することはアンチパターンとして知られています。<br>
繰り返し処理中の文字列連結は、 <code>StringBuilder</code>、 <code>StringJoiner</code>、 <code>StringBuffer</code> を利用します。<br>
また、コレクション要素の結合であれば<code>String#join</code>が利用できます。</p> <p>以下に処理例と計測結果を記載します。</p> <ul><li><p><code>+</code>演算子</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> string <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        s <span class="token operator">+=</span> <span class="token string">&quot;,&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    s <span class="token operator">+=</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">return</span> s<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li><p>StringBuilder</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">StringBuilder</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> string <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">return</span> sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li><p>StringBuffer</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">StringBuffer</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> string <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">return</span> sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li><p>String#join</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">,</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>計測結果</p> <table><thead><tr><th style="text-align:right;">処理するListの件数</th> <th style="text-align:right;"><code>+</code>演算子 (ms)</th> <th style="text-align:right;">StringBuilder (ms)</th> <th style="text-align:right;">StringBuffer (ms)</th> <th style="text-align:right;">String#join (ms)</th></tr></thead> <tbody><tr><td style="text-align:right;">1,000件</td> <td style="text-align:right;">5</td> <td style="text-align:right;">0(計測不能)</td> <td style="text-align:right;">0(計測不能)</td> <td style="text-align:right;">0(計測不能)</td></tr> <tr><td style="text-align:right;">1万件</td> <td style="text-align:right;">1,016</td> <td style="text-align:right;">1</td> <td style="text-align:right;">1</td> <td style="text-align:right;">1</td></tr> <tr><td style="text-align:right;">10万件</td> <td style="text-align:right;">(30秒以上)</td> <td style="text-align:right;">2</td> <td style="text-align:right;">5</td> <td style="text-align:right;">5</td></tr> <tr><td style="text-align:right;">100万件</td> <td style="text-align:right;">(30秒以上)</td> <td style="text-align:right;">29</td> <td style="text-align:right;">42</td> <td style="text-align:right;">51</td></tr></tbody></table></li></ul> <h3 id="文字列連結（定数）"><a href="#文字列連結（定数）" class="header-anchor">#</a> 文字列連結（定数）</h3> <p>基本的に処理中の文字列連結では<code>+</code>演算子は使わないで処理するほうがパフォーマンスが高くなりますが、定数の場合は<code>+</code>演算子で定義するほうがパフォーマンスが高いです。</p> <p>たとえば以下のように、処理したい場合、</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> CONST_A <span class="token operator">=</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> CONST_B <span class="token operator">=</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> CONST_AB <span class="token operator">=</span> CONST_A <span class="token operator">+</span> CONST_B<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>StringBuilderで処理しようとすると以下のようになります。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> CONST_AB <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span>CONST_A<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>CONST_B<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>しかし、これらをバイトコード上で確認するとそれぞれ以下のようになります。</p> <ul><li><p><code>+</code>演算子</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span><span class="token class-name">String</span> CONST_AB <span class="token operator">=</span> <span class="token string">&quot;AB&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>StringBuilder</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span><span class="token class-name">String</span> CONST_AB<span class="token punctuation">;</span>

<span class="token keyword">static</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
   <span class="token number">0</span>  <span class="token keyword">new</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span><span class="token class-name">StringBuilder</span> <span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span>
   <span class="token number">3</span>  dup
   <span class="token number">4</span>  ldc <span class="token operator">&lt;</span><span class="token class-name">String</span> <span class="token string">&quot;A&quot;</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span>
   <span class="token number">6</span>  invokespecial java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span><span class="token class-name">StringBuilder</span><span class="token punctuation">(</span>java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span><span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">22</span><span class="token punctuation">]</span>
   <span class="token number">9</span>  ldc <span class="token operator">&lt;</span><span class="token class-name">String</span> <span class="token string">&quot;B&quot;</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span>
  <span class="token number">11</span>  invokevirtual java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span><span class="token class-name">StringBuilder</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span><span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">:</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span><span class="token class-name">StringBuilder</span> <span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span>
  <span class="token number">14</span>  invokevirtual java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span><span class="token class-name">StringBuilder</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span><span class="token class-name">String</span> <span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span>
  <span class="token number">17</span>  putstatic jp<span class="token punctuation">.</span>co<span class="token punctuation">.</span>packagename<span class="token punctuation">.</span><span class="token class-name">ClassName</span><span class="token punctuation">.</span>CONST_AB <span class="token operator">:</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span><span class="token class-name">String</span> <span class="token punctuation">[</span><span class="token number">34</span><span class="token punctuation">]</span>
  <span class="token number">20</span>  <span class="token keyword">return</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li></ul> <p><code>+</code>演算子を利用した場合コンパイル時に最適化され、文字列<code>&quot;A&quot;</code>と<code>&quot;B&quot;</code>をあらかじめ結合してclassが作成されます。<br> <code>StringBuilder</code>を利用した場合は最適化はされず、記述した通りの処理が行われます。</p> <p>計測した場合、下記のようになります。</p> <ul><li><p>計測結果</p> <table><thead><tr><th style="text-align:right;">処理回数</th> <th style="text-align:right;">StringBuilder (ms)</th> <th style="text-align:right;"><code>+</code>演算子 (ms)</th></tr></thead> <tbody><tr><td style="text-align:right;">5,000万回</td> <td style="text-align:right;">559</td> <td style="text-align:right;">0(計測不能)</td></tr> <tr><td style="text-align:right;">1億回</td> <td style="text-align:right;">1,059</td> <td style="text-align:right;">0(計測不能)</td></tr></tbody></table></li></ul> <p>通常、定数処理を大量に処理することは考えられないので性能問題になることはありませんが、<code>+</code>演算子を利用したほうがパフォーマンスが高いこともあるということを理解してください。</p> <h2 id="listの種類"><a href="#listの種類" class="header-anchor">#</a> Listの種類</h2> <p><code>List</code>には<code>ArrayList</code>のような<code>RandomAccess</code>をimplementsした、ランダムアクセスをサポートしているクラスと、<br> <code>LinkedList</code>のようなランダムアクセスをサポートしていない（シーケンシャルアクセス）クラスが存在します。<br> <code>RandomAccess</code>ではない<code>List</code>は、<code>List#get</code>などインデックスを利用するような操作のパフォーマンスが低いので注意してください。</p> <p>以下に処理例と計測結果を記載します。</p> <ul><li><p>for文(List#get(int)によるループ)</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span> size <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> s <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//処理</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p>拡張for文</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> s <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//処理</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>forEach</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">:</span><span class="token operator">:</span>処理<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>計測結果</p> <table><thead><tr><th>処理するListの件数</th> <th style="text-align:right;"><code>ArrayList</code><br>for文(List#get(int)によるループ) (ms)</th> <th style="text-align:right;"><code>LinkedList</code><br>for文(List#get(int)によるループ) (ms)</th> <th style="text-align:right;"><code>ArrayList</code><br>拡張for文 (ms)</th> <th style="text-align:right;"><code>LinkedList</code><br>拡張for文 (ms)</th> <th style="text-align:right;"><code>ArrayList</code><br>forEach (ms)</th> <th style="text-align:right;"><code>LinkedList</code><br>forEach (ms)</th></tr></thead> <tbody><tr><td>1万件</td> <td style="text-align:right;">0(計測不能)</td> <td style="text-align:right;">73</td> <td style="text-align:right;">0(計測不能)</td> <td style="text-align:right;">0(計測不能)</td> <td style="text-align:right;">0(計測不能)</td> <td style="text-align:right;">0(計測不能)</td></tr> <tr><td>10万件</td> <td style="text-align:right;">0(計測不能)</td> <td style="text-align:right;">7,576</td> <td style="text-align:right;">0(計測不能)</td> <td style="text-align:right;">0(計測不能)</td> <td style="text-align:right;">1</td> <td style="text-align:right;">2</td></tr> <tr><td>20万件</td> <td style="text-align:right;">0(計測不能)</td> <td style="text-align:right;">17,740</td> <td style="text-align:right;">0(計測不能)</td> <td style="text-align:right;">0(計測不能)</td> <td style="text-align:right;">0(計測不能)</td> <td style="text-align:right;">0(計測不能)</td></tr> <tr><td>50万件</td> <td style="text-align:right;">0(計測不能)</td> <td style="text-align:right;">(30秒以上)</td> <td style="text-align:right;">0(計測不能)</td> <td style="text-align:right;">2</td> <td style="text-align:right;">0(計測不能)</td> <td style="text-align:right;">2</td></tr> <tr><td>100万件</td> <td style="text-align:right;">1</td> <td style="text-align:right;">(30秒以上)</td> <td style="text-align:right;">0(計測不能)</td> <td style="text-align:right;">4</td> <td style="text-align:right;">0(計測不能)</td> <td style="text-align:right;">4</td></tr> <tr><td>1,000万件</td> <td style="text-align:right;">16</td> <td style="text-align:right;">(30秒以上)</td> <td style="text-align:right;">8</td> <td style="text-align:right;">45</td> <td style="text-align:right;">6</td> <td style="text-align:right;">44</td></tr></tbody></table></li></ul> <p>ランダムアクセスをサポートしている<code>List</code>がシーケンシャルアクセス（iteratorを利用した処理など）で遅いということはないので、<br>
ループの処理は拡張for文等、Iteratorによるループで記述するのが無難です。<br> <code>List#get</code>での処理をすべて禁止することはできませんが、高いパフォーマンスが求められる場合は<code>List</code>の種類にも注目してみてください。</p> <h2 id="stringからinteger・longへの変換"><a href="#stringからinteger・longへの変換" class="header-anchor">#</a> StringからInteger・Longへの変換</h2> <p>数値文字列の<code>String</code>を<code>Integer</code>に変換するには、<code>Integer#valueOf(String)</code>を利用して下記のように記述します。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">Integer</span> value <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>しかし、下記のようにも記述できます。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">Integer</span> value <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>これらの違いは、<br> <code>new Integer(s)</code>とした場合、必ずIntegerインスタンスが生成されますが、<br> <code>Integer.valueOf(s)</code>とした場合は -128から127の間の数値であればキャッシュから取り出すためインスタンスを生成しません。</p> <p>このため、前者の<code>Integer#valueOf(String)</code>を利用した記述のほうが効率的です。<br> <code>Long#valueOf(String)</code>も同様です。</p> <p>性能差が少ないため、ほとんど問題にはなりませんが、FindBugs等、静的解析で検出される問題のため、理解が必要です。</p> <p>また、Stringからの変換だけでなく、intやlongからの変換も<code>#valueOf</code>が効率的ですが、オートボクシングを利用した場合、コンパイルで自動的にこれらの処理に変換されるため、記述することはありません。</p> <h2 id="stringからint・longへの変換"><a href="#stringからint・longへの変換" class="header-anchor">#</a> Stringからint・longへの変換</h2> <p>数値文字列の<code>String</code>を<code>int</code>に変換するには、<code>Integer#parseInt(String)</code>を利用して下記のように記述します。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> value <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>しかし、オートボクシングが利用できるため、意図せず下記のように記述ミスをする場合があります。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> value <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//取得したIntegerインスタンスをオートボクシングでintにcastしている</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> value <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//生成したIntegerインスタンスをオートボクシングでintにcastしている</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>「オートボクシング」の説明に記載した通り、性能に差が出るだけでなく、<br>
記述から明らかにミスであることが解るため、FindBugs等、静的解析で検出されるコードです。</p> <p><code>long</code>への変換の場合は<code>Long#parseLong(String)</code>を利用します</p> <p>以下に計測結果を記載します。</p> <ul><li><p>計測結果</p> <table><thead><tr><th style="text-align:right;">処理回数</th> <th style="text-align:right;">Integer.valueOf(String) (ms)</th> <th style="text-align:right;">Integer#parseInt(String) (ms)</th></tr></thead> <tbody><tr><td style="text-align:right;">1,000万回</td> <td style="text-align:right;">396</td> <td style="text-align:right;">318</td></tr> <tr><td style="text-align:right;">1億回</td> <td style="text-align:right;">4,060</td> <td style="text-align:right;">3,077</td></tr></tbody></table></li></ul> <h2 id="bigdecimalのzeroとの比較"><a href="#bigdecimalのzeroとの比較" class="header-anchor">#</a> BigDecimalのZEROとの比較</h2> <p>BigDecimalの正・負・ZEROの判定は<code>BigDecimal#signum</code>を利用します。<br> <code>compareTo</code>を利用して<code>BigDecimal.ZERO</code>と比較しても同じことができますが、<code>signum</code>を利用したほうが効率的です。</p> <p>以下に処理例と計測結果を記載します。</p> <ul><li><p>compareTo利用</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">BigDecimal</span> value <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;0.0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token class-name">BigDecimal</span><span class="token punctuation">.</span>ZERO<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>signum利用</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">BigDecimal</span> value <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;0.0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token function">signum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>計測結果</p> <p>（単位：マイクロ秒）</p> <table><thead><tr><th style="text-align:right;">処理回数</th> <th style="text-align:right;">compareTo利用 (マイクロ秒)</th> <th style="text-align:right;">signum利用 (マイクロ秒)</th></tr></thead> <tbody><tr><td style="text-align:right;">1京回</td> <td style="text-align:right;">527<br>max:26,367<br>min:0</td> <td style="text-align:right;">424<br>max:21,213<br>min:0</td></tr></tbody></table></li></ul> <p>性能差が少ないので、必ずしもsignumを利用する必要はありませんが、大量に処理する場合など、高いパフォーマンスが求められる場合は意識してください。</p> <hr> <h1 id="license"><a href="#license" class="header-anchor">#</a> License</h1> <p><a href="https://creativecommons.org/licenses/by/4.0/deed.ja" target="_blank" rel="noopener noreferrer"><img src="https://licensebuttons.net/l/by/4.0/88x31.png" alt="CC-By-4.0"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/future-architect/coding-standards/edit/master/documents/forJava/Javaコーディング規約_for_8.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2019-9-10 14:20:17</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/coding-standards/documents/forJava/Javaコーディング規約.html" class="prev">Javaコーディング規約</a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/coding-standards/assets/js/app.56d8ba9b.js" defer></script><script src="/coding-standards/assets/js/1.5f0c2e45.js" defer></script><script src="/coding-standards/assets/js/11.62ce115d.js" defer></script><script src="/coding-standards/assets/js/4.5a1deb12.js" defer></script>
  </body>
</html>
